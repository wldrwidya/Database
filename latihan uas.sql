CREATE TABLE Instruktur
(Instruktur_id CHAR(3) NOT NULL,
Nama VARCHAR2(30) NOT NULL,
Tanggal_kerja DATE);

CREATE TABLE Training
(KODE_TR CHAR(3) NOT NULL,
NAMA_TR VARCHAR2(30),
TARIF_PER_JAM NUMBER);

CREATE TABLE Anggota
(ID_ANGGOTA NUMBER(3) NOT NULL,
NAMA VARCHAR(30) NOT NULL,
TANGGAL_LAHIR DATE);

CREATE TABLE kelas_training
(ID_KELAS CHAR(3) NOT NULL,
TANGGAL_MULAI DATE,
TANGGAL_SELESAI DATE,
ID_INSTRUKTUR CHAR(3),
JAM_PER_HARI NUMBER,
BIAYA_REGISTRASI NUMBER,
TRAINING CHAR(3));

CREATE TABLE anggota_training
(ID_ANGGOTA NUMBER(3) NOT NULL,
ID_KELAS CHAR(3) NOT NULL,
TANGGAL_DAFTAR DATE);

//2

INSERT INTO Instruktur(INSTRUKTUR_ID, Nama, Tanggal_kerja)
VALUES('P1','Dian','01-FEB-18');
INSERT Into Instruktur(INSTRUKTUR_ID, Nama, Tanggal_kerja)
VALUES('P2','Yuki','21-MAR-19');
INSERT Into Instruktur(INSTRUKTUR_ID, Nama, Tanggal_kerja)
VALUES('P3','Reno S.','16-MAR-18');
INSERT Into Instruktur(INSTRUKTUR_ID, Nama, Tanggal_kerja)
VALUES('P4','Yanto','22-OCT-16');
SELECT*FROM Instruktur;

INSERT INTO Training(KODE_TR, NAMA_TR, TARIF_PER_JAM)
VALUES('M01','PHP',150);
INSERT INTO Training(KODE_TR, NAMA_TR, TARIF_PER_JAM)
VALUES('M02','PHYTON',200);
INSERT INTO Training(KODE_TR, NAMA_TR, TARIF_PER_JAM)
VALUES('M03','TABLEAU',250);
SELECT * FROM Training;

INSERT INTO Anggota(ID_ANGGOTA , NAMA , TANGGAL_LAHIR)
VALUES(201,'BENNY','03-JAN-97');
INSERT INTO Anggota(ID_ANGGOTA , NAMA , TANGGAL_LAHIR)
VALUES(202,'DIAN','19-NOV-98');
INSERT INTO Anggota(ID_ANGGOTA , NAMA , TANGGAL_LAHIR)
VALUES(203,'NENNO','20-AUG-92');
INSERT INTO Anggota(ID_ANGGOTA , NAMA , TANGGAL_LAHIR)
VALUES(204,'GILANG','29-MAR-95');
INSERT INTO Anggota(ID_ANGGOTA , NAMA , TANGGAL_LAHIR)
VALUES(205,'VINA','14-NOV-98');

INSERT INTO kelas_training(ID_KELAS, TANGGAL_MULAI, TANGGAL_SELESAI, ID_INSTRUKTUR, JAM_PER_HARI, BIAYA_REGISTRASI, Training)
VALUES('K01','10-FEB-18','13-FEB-18','P1',2,1500,'M02');
INSERT INTO kelas_training(ID_KELAS, TANGGAL_MULAI, TANGGAL_SELESAI, ID_INSTRUKTUR, JAM_PER_HARI, BIAYA_REGISTRASI, Training)
VALUES('K02','21-MAR-18','24-MAR-18','P1',3,2000,'M01');
INSERT INTO kelas_training(ID_KELAS, TANGGAL_MULAI, TANGGAL_SELESAI, ID_INSTRUKTUR, JAM_PER_HARI, BIAYA_REGISTRASI, Training)
VALUES('K03','27-OCT-18','29-OCT-18','P4',2,1500,'M03');
INSERT INTO kelas_training(ID_KELAS, TANGGAL_MULAI, TANGGAL_SELESAI, ID_INSTRUKTUR, JAM_PER_HARI, BIAYA_REGISTRASI, Training)
VALUES('K04','11-MAR-19','15-MAR-19','P4',3,1500,'M02');
INSERT INTO kelas_training(ID_KELAS, TANGGAL_MULAI, TANGGAL_SELESAI, ID_INSTRUKTUR, JAM_PER_HARI, BIAYA_REGISTRASI, Training)
VALUES('K05','18-SEP-19','22-SEP-19','P3',2,2000,'M01');
INSERT INTO kelas_training(ID_KELAS, TANGGAL_MULAI, TANGGAL_SELESAI, ID_INSTRUKTUR, JAM_PER_HARI, BIAYA_REGISTRASI, Training)
VALUES('K06','11-NOV-19','14-NOV-19','P3',2,1500,'M02');
SELECT*FROM kelas_training;

INSERT INTO ANGGOTA_TRAINING(ID_ANGGOTA , ID_KELAS , TANGGAL_DAFTAR)
VALUES(201,'K01','01-FEB-18');
INSERT INTO ANGGOTA_TRAINING(ID_ANGGOTA , ID_KELAS , TANGGAL_DAFTAR)
VALUES(202,'K01','02-FEB-18');
INSERT INTO ANGGOTA_TRAINING(ID_ANGGOTA , ID_KELAS , TANGGAL_DAFTAR)
VALUES(203,'K02','15-MAR-18');
INSERT INTO ANGGOTA_TRAINING(ID_ANGGOTA , ID_KELAS , TANGGAL_DAFTAR)
VALUES(205,'K02','11-MAR-18');
INSERT INTO ANGGOTA_TRAINING(ID_ANGGOTA , ID_KELAS , TANGGAL_DAFTAR)
VALUES(204,'K03','14-OCT-18');
INSERT INTO ANGGOTA_TRAINING(ID_ANGGOTA , ID_KELAS , TANGGAL_DAFTAR)
VALUES(205,'K03','13-OCT-18');
INSERT INTO ANGGOTA_TRAINING(ID_ANGGOTA , ID_KELAS , TANGGAL_DAFTAR)
VALUES(204,'K06','11-NOV-19');
INSERT INTO ANGGOTA_TRAINING(ID_ANGGOTA , ID_KELAS , TANGGAL_DAFTAR)
VALUES(203,'K06','13-NOV-19');
INSERT INTO ANGGOTA_TRAINING(ID_ANGGOTA , ID_KELAS , TANGGAL_DAFTAR)
VALUES(203,'K05','19-SEP-19');
SELECT * FROM anggota_training;

//3

UPDATE kelas_training
SET TANGGAL_SELESAI = '31-OCT-18'
WHERE ID_KELAS = 'K03';

//4

CREATE TABLE INFORMASI_TRAINING
(MATERI_TRAINING CHAR(30) NOT NULL,
JUMLAH_KELAS_DIBUKA NUMBER);

INSERT INTO INFORMASI_TRAINING(MATERI_TRAINING, JUMLAH_KELAS_DIBUKA)
VALUES ('PHP', (SELECT COUNT (TRAINING) AS JUMLAH_KELAS_DIBUKA FROM KELAS_TRAINING WHERE TRAINING = 'M01'));
INSERT INTO INFORMASI_TRAINING(MATERI_TRAINING, JUMLAH_KELAS_DIBUKA)
VALUES ('Tableau', (SELECT COUNT (TRAINING) AS JUMLAH_KELAS_DIBUKA FROM KELAS_TRAINING WHERE TRAINING = 'M03'));
INSERT INTO INFORMASI_TRAINING(MATERI_TRAINING, JUMLAH_KELAS_DIBUKA)
VALUES ('Phyton', (SELECT COUNT (TRAINING) AS JUMLAH_KELAS_DIBUKA FROM KELAS_TRAINING WHERE TRAINING = 'M02'));
SELECT * FROM INFORMASI_TRAINING;

//5

SELECT NAMA AS "NAMA_PESERTA" , T.NAMA_TR AS "MATERI_TRAINING"
FROM ANGGOTA A
JOIN ANGGOTA_TRAINING AT ON A.ID_ANGGOTA = AT.ID_ANGGOTA
JOIN KELAS_TRAINING KT ON AT.ID_KELAS = KT.ID_KELAS
JOIN TRAINING T ON KT.TRAINING = T.KODE_TR
WHERE AT.ID_KELAS = 'K01'
AND AT.ID_ANGGOTA != 201;

//6

SELECT A.NAMA AS "NAMA_PESERTA", T.NAMA_TR AS "MATERI_TRAINING", I.NAMA AS "NAMA_INSTRUKTUR", 
KT.JAM_PER_HARI * (KT.TANGGAL_SELESAI - KT.TANGGAL_MULAI) AS "JUMLAH_JAM", (KT.JAM_PER_HARI * (KT.TANGGAL_SELESAI - KT.TANGGAL_MULAI)) * T.Tarif_Per_Jam + KT.Biaya_registrasi AS "Jumlah_Bayar"
FROM ANGGOTA A
JOIN ANGGOTA_TRAINING AT ON A.ID_ANGGOTA = AT.ID_ANGGOTA
JOIN KELAS_TRAINING KT ON AT.ID_KELAS = KT.ID_KELAS
JOIN TRAINING T ON KT.TRAINING = T.KODE_TR
JOIN INSTRUKTUR I ON KT.ID_INSTRUKTUR = I.INSTRUKTUR_ID
ORDER BY A.NAMA, T.NAMA_TR, I.NAMA ASC;

//7

ALTER TABLE Anggota ADD No_telepon CHAR(13);